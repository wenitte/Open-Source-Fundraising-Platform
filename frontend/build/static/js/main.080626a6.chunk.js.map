{"version":3,"sources":["Content.js","configuration.js","components/Currency.js","utils/firebase.js","components/withFundings.js","components/Progress.js","components/Button.js","components/Input.js","components/Checkout.js","components/Backers.js","App.js","index.js"],"names":["BannerWrapper","styled","div","Banner","img","Content","children","src","alt","href","CONFIGURATION","themeColor","goal","currency","checkoutTitle","checkoutDescription","checkoutButtonLabel","callToAction","defaultAmount","Currency","getSymbolFromCurrency","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","withFundings","Component","state","fundings","ref","on","snapshot","funding","val","id","key","setState","prevState","this","React","getProgressPercentageRaw","progress","getProgressPercentage","ProgressWrapper","ProgressBar","ProgressAchieved","ProgressToGo","reduce","result","value","amount","style","width","Button","button","Input","input","fromTalerToCent","onToken","description","onSuccess","onError","token","axios","post","process","PAYMENT_SERVER_URL","source","then","catch","Form","FormContent","Label","label","Checkout","username","isSuccess","isError","onAmountChange","bind","onUsernameChange","event","target","data","push","email","success","name","type","min","max","onChange","required","stripeKey","panelLabel","length","map","FundingPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.080626a6.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nconst Content = ({ children }) => (\n  <div>\n    <BannerWrapper>\n      <Banner\n        src={'./static/africa.jpg'}\n        alt=\"Your Crowdfunding Title\"\n      />\n    </BannerWrapper>\n\n    <h1>Raise Me Funds Crowdfunding Campaign</h1>\n\n    <p>\n      Hey there. My name is Descript{' '}\n    </p>\n\n\n    <p>\n      Fantastic\n    </p>\n\n    <h2>The Pitch</h2>\n\n    <p>Lorem ipsum ...</p>\n\n    <h2>Goals and Perks</h2>\n\n    <p>\n      This crowd funding campaign runs until ...\n    </p>\n\n    <ul>\n      <li>\n        If more than <strong>100 USD</strong> are funded, I am able to !\n      </li>\n      <li>\n        If more than <strong>500 USD</strong> are funded, I am going to do it!\n      </li>\n      <li>\n        If more than <strong>1500 USD</strong> are funded, I will ...!\n      </li>\n    </ul>\n\n    <p>\n      The payments are handled by <a href=\"https://stripe.com/\">Stripe</a> and\n      thus your credit card details are securely managed by them. No credit card\n      information is saved on my server.\n    </p>\n\n    <p>\n      So what are the perks for your contribution to this crowdfunding campaign ...\n    </p>\n\n    <ul>\n      <li>\n        Thank you!\n      </li>\n      <li>\n        Thanks !\n      </li>\n      <li>\n      Thank you!\n      </li>\n    </ul>\n\n    <p>\n      Thank you for reading and for your support, RAISEMEFUNDS\n    </p>\n\n    {children}\n  </div>\n);\n\nconst BannerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Banner = styled.img`\n  margin: 0;\n  max-width: 100%;\n  height: 400px;\n`;\n\nexport default Content;\n","const CONFIGURATION = {\n  themeColor: '#134896',\n\n  // Funding Goal\n  goal: '1000', // adjustable during funding campaign\n  currency: 'USD', // shouldn't ne adjusted during funding compaing (find supported currencies at https://stripe.com/docs/currencies)\n\n  // Checkout Form\n  checkoutTitle: 'Thank you!',\n  checkoutDescription: 'RaiseMeFunds Campaign', // will show up in your Stripe payment dashboard too\n  checkoutButtonLabel: 'Fund',\n  callToAction: 'Fund it!',\n  defaultAmount: 25\n};\n\nexport default CONFIGURATION;\n","import React from 'react';\nimport getSymbolFromCurrency from 'currency-symbol-map';\n\nimport CONFIGURATION from '../configuration';\n\nconst Currency = ({ currency = CONFIGURATION.currency }) => (\n  <span>{getSymbolFromCurrency(currency)}</span>\n);\n\nexport default Currency;\n","import * as firebase from 'firebase';\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst config = {\n  apiKey: \"AIzaSyA-3ABwUiQkSq25nE28gF9OOqEAi8aGvg0\",\n  authDomain: \"raisemefunds-2ad03.firebaseapp.com\",\n  databaseURL: \"https://raisemefunds-2ad03-default-rtdb.firebaseio.com\",\n  projectId: \"raisemefunds-2ad03\",\n  storageBucket: \"raisemefunds-2ad03.appspot.com\",\n  messagingSenderId: \"323783047458\",\n  appId: \"1:323783047458:web:2ebf7c7313ff534be98d7b\",\n  measurementId: \"G-CMNSW9LG6S\"\n};\nfirebase.initializeApp(config);\n\nconst database = firebase.database();\n\nexport { database };\n\nexport default firebase;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { database } from '../utils/firebase';\n\nconst withFundings = Component =>\n  class WithFundings extends React.Component {\n    constructor() {\n      super();\n\n      this.state = {\n        fundings: []\n      };\n    }\n\n    componentDidMount() {\n      const fundingsRef = database.ref('fundings');\n\n      fundingsRef.on('child_added', snapshot => {\n        const funding = {\n          ...snapshot.val(),\n          id: snapshot.key\n        };\n\n        this.setState(prevState => ({\n          fundings: [funding, ...prevState.fundings]\n        }));\n      });\n    }\n\n    render() {\n      const { fundings } = this.state;\n      return <Component fundings={fundings} />;\n    }\n  };\n\nexport default withFundings;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Currency from './Currency';\nimport withFundings from './withFundings';\nimport CONFIGURATION from '../configuration';\n\nconst getProgressPercentageRaw = progress =>\n  progress / CONFIGURATION.goal * 100;\n\nconst getProgressPercentage = progress =>\n  getProgressPercentageRaw(progress) <= 100\n    ? getProgressPercentageRaw(progress)\n    : 100;\n\nconst ProgressWrapper = styled.div`\n  margin: 20px 0;\n`;\n\nconst ProgressBar = styled.div`\n  display: flex;\n  height: 25px;\n  border: 1px solid #134896;\n  border-radius: 5px;\n  border-radius: 5px;\n`;\n\nconst ProgressAchieved = styled.div`\n  display: flex;\n  background-color: ${CONFIGURATION.themeColor};\n`;\n\nconst ProgressToGo = styled.div`\n  display: flex;\n  backgroundcolor: #ffffff;\n`;\n\nconst Progress = ({ fundings }) => {\n  const progress = fundings.reduce((result, value) => result + value.amount, 0);\n\n  return (\n    <ProgressWrapper>\n      <span>\n        {progress} <Currency /> raised of {CONFIGURATION.goal} <Currency /> goal\n      </span>\n\n      <ProgressBar>\n        <ProgressAchieved\n          style={{ width: `${getProgressPercentage(progress)}%` }}\n        />\n        <ProgressToGo\n          style={{ width: `${100 - getProgressPercentage(progress)}%` }}\n        />\n      </ProgressBar>\n    </ProgressWrapper>\n  );\n};\n\nexport default withFundings(Progress);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport CONFIGURATION from '../configuration';\n\nconst Button = styled.button`\n  display: inline-block;\n  border: 1px solid ${CONFIGURATION.themeColor};\n  height: 20px;\n  line-height: 20px;\n  color: ${CONFIGURATION.themeColor};\n  border-radius: 5px;\n  background-clip: padding-box;\n  padding: 0.5em 1.5em;\n  font-weight: bold;\n  transition: all 0.2s ease-out;\n  background: transparent;\n  box-sizing: content-box;\n  cursor: pointer;\n\n  &-small {\n    height: 10px;\n    line-height: 10px;\n  }\n\n  &:hover {\n    transition: 0.2s ease;\n    background-color: ${CONFIGURATION.themeColor};\n    color: #ffffff !important;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport default Button;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Input = styled.input`\n  border: 0;\n  outline: 0;\n  background: transparent;\n  border-bottom: 1px solid black;\n`;\n\nexport default Input;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport StripeCheckout from 'react-stripe-checkout';\nimport getSymbolFromCurrency from 'currency-symbol-map';\n\nimport CONFIGURATION from '../configuration';\nimport { database } from '../utils/firebase';\n\nimport Button from './Button';\nimport Input from './Input';\n\nconst fromTalerToCent = amount => amount * 100;\n\nconst onToken = (amount, description, onSuccess, onError) => token =>\n  axios\n    .post(process.env.PAYMENT_SERVER_URL, {\n      description,\n      source: token.id,\n      currency: CONFIGURATION.currency,\n      amount: fromTalerToCent(amount),\n    })\n    .then(onSuccess)\n    .catch(onError);\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst FormContent = styled.div`\n  margin: 5px;\n`;\n\nconst Label = styled.label`\n  margin-right: 10px;\n`;\n\nclass Checkout extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      amount: CONFIGURATION.defaultAmount,\n      username: '',\n      isSuccess: null,\n      isError: null\n    };\n\n    this.onAmountChange = this.onAmountChange.bind(this);\n    this.onUsernameChange = this.onUsernameChange.bind(this);\n    this.onSuccess = this.onSuccess.bind(this);\n    this.onError = this.onError.bind(this);\n  }\n\n  onUsernameChange(event) {\n    const { value } = event.target;\n    this.setState({ username: value });\n  }\n\n  onAmountChange(event) {\n    const { value } = event.target;\n    this.setState({ amount: value < 0 ? value * -1 : value });\n  }\n\n  onSuccess({ data }) {\n    const { amount, username } = this.state;\n\n    database.ref('fundings').push({\n      amount: +amount,\n      email: data.success.source.name,\n      username,\n      currency: CONFIGURATION.currency\n    });\n\n    this.setState({ isSuccess: true });\n  }\n\n  onError() {\n    this.setState({ isError: true });\n  }\n\n  render() {\n    const {\n      amount,\n      username,\n      isError,\n      isSuccess,\n    } = this.state;\n\n    if (isSuccess) {\n      return (\n        <div>\n          <p>Thanks for your funding!</p>\n        </div>\n      );\n    }\n\n    if (isError) {\n      return (\n        <div>\n          <p>Something went wrong. The payment couldn't be processed.</p>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <Form>\n          <FormContent>\n            <Label>\n              Amount ({getSymbolFromCurrency(CONFIGURATION.currency)}):\n            </Label>\n\n            <Input\n              type=\"number\"\n              min=\"1\"\n              max=\"99999\"\n              value={amount}\n              onChange={this.onAmountChange}\n              required\n            />\n          </FormContent>\n\n          <FormContent>\n            <Label>Your Name (leave empty to stay anonymous):</Label>\n\n            <Input\n              type=\"text\"\n              onChange={this.onUsernameChange}\n              value={username}\n            />\n          </FormContent>\n\n          <FormContent>\n            <StripeCheckout\n              name={CONFIGURATION.checkoutTitle}\n              description={CONFIGURATION.checkoutDescription}\n              amount={fromTalerToCent(amount)}\n              token={onToken(\n                amount,\n                CONFIGURATION.checkoutDescription,\n                this.onSuccess,\n                this.onError\n              )}\n              currency={CONFIGURATION.currency}\n              stripeKey={\"pk_live_51HV2hVBmviTa8H94aBVwgoblrOufLON91PvlctBzcNk3paJcPTAf0KWHkTbLU4xieIy68vRJUzvWlwQTzreaZnQK00RbTNTkll\"}\n              panelLabel={CONFIGURATION.checkoutButtonLabel}\n            >\n              <Button type=\"button\">{CONFIGURATION.callToAction}</Button>\n            </StripeCheckout>\n          </FormContent>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default Checkout;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport withFundings from './withFundings';\nimport Currency from './Currency';\n\nconst Backers = ({ fundings }) => (\n  <div>\n    {fundings.length ? (\n      <div>\n        <h2>List of Backers</h2>\n        <ul>\n          {fundings.map(funding => (\n            <li key={funding.id}>\n              {funding.amount}\n              <Currency currency={funding.currency} /> by{' '}\n              {funding.username ? funding.username : 'anonymous'}\n            </li>\n          ))}\n        </ul>\n      </div>\n    ) : null}\n  </div>\n);\n\nexport default withFundings(Backers);\n","import React from 'react';\n\nimport Content from './Content';\nimport Progress from './components/Progress';\nimport Checkout from './components/Checkout';\nimport Backers from './components/Backers';\n\nconst FundingPage = () => (\n  <div>\n    <Content>\n      <Progress />\n      <Checkout />\n    </Content>\n    <Backers />\n  </div>\n);\n\nexport default FundingPage;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport FundingPage from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <FundingPage/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}